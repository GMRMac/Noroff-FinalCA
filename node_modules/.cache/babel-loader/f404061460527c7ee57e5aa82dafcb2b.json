{"ast":null,"code":"import _slicedToArray from \"D:\\\\OneDrive\\\\Noroff\\\\2018-2020_Secound year\\\\07_JavaScript Frameworks 2\\\\CA\\\\task4\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\OneDrive\\\\Noroff\\\\2018-2020_Secound year\\\\07_JavaScript Frameworks 2\\\\CA\\\\task4\\\\src\\\\components\\\\characters\\\\list\\\\CharacterList.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport { BASE_URL } from \"../../../constants/API\";\nimport \"./CharacterList.css\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport CharacterItem from \"./CharacterItem\";\nimport Search from \"./Search\";\nexport default function CharacterList() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        characters = _useState2[0],\n        setCharacters = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        filteredCharacters = _useState4[0],\n        setFilteredCharacters = _useState4[1];\n\n  const _useState5 = useState(true),\n        _useState6 = _slicedToArray(_useState5, 2),\n        loading = _useState6[0],\n        setLoading = _useState6[1];\n\n  const _useState7 = useState(true),\n        _useState8 = _slicedToArray(_useState7, 2),\n        inputEmpty = _useState8[0],\n        setInputEmpty = _useState8[1];\n\n  useEffect(() => {\n    fetch(BASE_URL).then(response => response.json()).then(json => {\n      setCharacters(json.results.cards);\n      setFilteredCharacters(json.results.cards);\n    }).catch(error => console.log(error)).finally(() => setLoading(false));\n  }, []);\n\n  const filterCards = function (e) {\n    // Let's get the value the user typed in and make it lower case\n    const searchValue = e.target.value.toLowerCase();\n\n    if (e.target.value !== \"\") {\n      setInputEmpty(false);\n    } else {\n      setInputEmpty(true);\n    } // Create a new array from the characters array\n\n\n    const filteredArray = characters.filter(function (char) {\n      // Make each name lowercase so we can check it properly with the search value\n      const lowerCaseName = char.name.toLowerCase(); // Check if the character name begins with the search value\n\n      if (lowerCaseName.startsWith(searchValue)) {\n        // If it does, return true\n        // This will add it to the new filtered array\n        return true;\n      }\n\n      return false;\n    }); // Set filtered characters to the new array\n\n    setFilteredCharacters(filteredArray);\n  };\n\n  if (loading) {\n    return React.createElement(Spinner, {\n      animation: \"border\",\n      className: \"spinner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    });\n  } //    {\n  //        filteredCharacters.map(character => {\n  //            \n  //        });\n  //    }\n\n\n  return React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(Search, {\n    handleSearch: filterCards,\n    inputEmpty: inputEmpty,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), filteredCharacters.map(character => {\n    const multiverseid = character.multiverseid,\n          name = character.name,\n          imageUrl = character.imageUrl;\n    return React.createElement(Col, {\n      sm: 6,\n      md: 3,\n      key: multiverseid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(CharacterItem, {\n      multiverseid: multiverseid,\n      name: name,\n      imageUrl: imageUrl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }));\n  })) //        <ul>\n  //        {characters.map(c => (\n  //            <li key={c.id}>{c.name}</li>))}\n  //        </ul>\n  ;\n}","map":{"version":3,"sources":["D:/OneDrive/Noroff/2018-2020_Secound year/07_JavaScript Frameworks 2/CA/task4/src/components/characters/list/CharacterList.js"],"names":["React","useState","useEffect","Spinner","BASE_URL","Row","Col","CharacterItem","Search","CharacterList","characters","setCharacters","filteredCharacters","setFilteredCharacters","loading","setLoading","inputEmpty","setInputEmpty","fetch","then","response","json","results","cards","catch","error","console","log","finally","filterCards","e","searchValue","target","value","toLowerCase","filteredArray","filter","char","lowerCaseName","name","startsWith","map","character","multiverseid","imageUrl"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport { BASE_URL } from \"../../../constants/API\";\r\nimport \"./CharacterList.css\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport CharacterItem from \"./CharacterItem\";\r\nimport Search from \"./Search\";\r\n\r\nexport default function CharacterList(){\r\n     \r\n    const [characters,setCharacters] = useState([]);\r\n    const [filteredCharacters, setFilteredCharacters] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [inputEmpty, setInputEmpty] = useState(true);\r\n    \r\n    useEffect(() => {\r\n        fetch(BASE_URL)\r\n            .then(response => response.json())\r\n            .then(json => {setCharacters(json.results.cards)\r\n                           setFilteredCharacters(json.results.cards)\r\n                          })\r\n            .catch(error => console.log(error))\r\n            .finally(() => setLoading(false));\r\n    }, []);\r\n    \r\n    const filterCards = function(e){\r\n        // Let's get the value the user typed in and make it lower case\r\n        const searchValue = e.target.value.toLowerCase();\r\n        \r\n        if(e.target.value !== \"\"){\r\n            setInputEmpty(false)\r\n        } else {\r\n            setInputEmpty(true)\r\n        }\r\n        // Create a new array from the characters array\r\n        const filteredArray = characters.filter(function(char){\r\n            // Make each name lowercase so we can check it properly with the search value\r\n            const lowerCaseName = char.name.toLowerCase();\r\n            \r\n            // Check if the character name begins with the search value\r\n            if (lowerCaseName.startsWith(searchValue)){\r\n                // If it does, return true\r\n                // This will add it to the new filtered array\r\n                return true;\r\n            }\r\n            return false;\r\n        })\r\n        \r\n        // Set filtered characters to the new array\r\n        setFilteredCharacters(filteredArray)\r\n    }\r\n    \r\n    if (loading) {\r\n        return <Spinner animation=\"border\" className=\"spinner\" />\r\n    }\r\n        \r\n//    {\r\n//        filteredCharacters.map(character => {\r\n//            \r\n//        });\r\n//    }\r\n    \r\n    return (\r\n        <Row>\r\n            <Search handleSearch={filterCards} inputEmpty={inputEmpty}/>\r\n            {filteredCharacters.map(character => {\r\n                const {multiverseid, name, imageUrl} = character;\r\n        \r\n                return (\r\n                    <Col sm={6} md={3} key={multiverseid}>\r\n                        <CharacterItem multiverseid={multiverseid} name={name} imageUrl={imageUrl} />\r\n                    </Col>\r\n                )\r\n            })}\r\n        </Row>\r\n//        <ul>\r\n//        {characters.map(c => (\r\n//            <li key={c.id}>{c.name}</li>))}\r\n//        </ul>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}